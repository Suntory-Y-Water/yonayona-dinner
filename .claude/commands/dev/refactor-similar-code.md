---
description: "similarity-tsを使って類似コードをリファクタ - 引数例：`-t 0.9 src/`（src/配下を厳しめでチェック）"
argument-hint: [引数]
---

## 実行手順

`similarity-ts $ARGUMENTS`コマンドを実行して、セマンティックなコードの類似性を検出してください。
このコマンドを実行し、重複しているコードパターンを分析し、リファクタリングの計画を作成してください。
対象ファイルが表示されたら、**serena mcp**のシンボルを利用して効率よくファイルを読み込むこと。

詳細なオプションについては`similarity-ts -h`を確認してください。

コマンドが実行できない場合は、以下を出力してユーザーに実行を促す。

1. `curl https://sh.rustup.rs -sSf | sh`を実行してインストール
2. インストール後、環境PATHを設定
3. `cargo install similarity-ts`を実行してインストール



<!--
ユーザー向けの説明

引数の例：
- （無し）
  - 現在のディレクトリを分析（デフォルト閾値0.87）
- `-t 0.9 src/`
  - src/ディレクトリを閾値0.9（厳しめ）で分析
- `-t 0.95 -p`
  - 閾値0.95（厳しい）でコード表示付きで分析
-->