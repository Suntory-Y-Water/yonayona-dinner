# よなよなディナー 要件定義テンプレート

## プロダクト概要

- アプリ名：よなよなディナー
- 一行説明：22時以降も営業中の飲食店だけを地図で表示するアプリ
- 提供価値：疲れていても“今開いてる店”を2タップで発見できる体験

## ターゲット

- 地域：東京都＋首都圏近郊
- 属性：男性サラリーマン（20代後半〜40代前半）
- シーン：残業後・終電後・軽く一杯・深夜の外食

## コア体験（UX）

- 起動直後に現在地中心の地図が開く
- 営業中の店のみピン表示
- ピン詳細に「店名／住所／営業時間／閉店までの残り分数」
- 外部ナビはGoogleマップへ委任

## スコープ（MVP）

- 現在地取得
- 半径nメートルのNearby検索
- 営業時間フィルタ（デフォルト23:00基準）
- 時間調整UI（例：22:00／24:00〜に可変）
- Googleマップ起動リンク

## 非スコープ（MVP外）

- 口コミ・評価表示
- 予約機能
- 会員登録・お気に入り
- 決済・クーポン

## プラットフォーム

- 第一候補：Web（React/Next.js想定）
- 代替候補：iOSネイティブ（SwiftUI）
- 優先度：MVPはWeb優先

## データソース

- 店舗情報・営業時間：Google Places API（Nearby Search / Place Details）
- 地図表示：Google Maps JavaScript API
- 時刻演算：ローカル時間＋曜日またぎ対応（例：23:30–翌5:00）

## 主要機能要件

- 位置情報パーミッションを取得し現在地を中心に描画
- 半径nメートルの店舗取得（既定値例：800m）
- 営業中フラグの算出

  - 条件：現在時刻 ∈ 任意営業時間スロット
  - 24時跨ぎ・複数スロットに対応
- 残り営業時間の表示（例：「あと34分」）
- ピン詳細パネルに必要項目を表示
- Googleマップを外部起動（経路は委任）

## 非機能要件

- 初回描画までの体感2秒以内
- モバイル最適化（片手操作・親指到達）
- ダークテーマ固定（夜間視認性）
- エラー時の静的フォールバック表示

## ブランド・UI

- カラー：暗い紫または深い青を基調、白文字、アクセントに黄金（ビール）
- ロゴ：白文字ロゴ＋右上にビールの泡が溢れる意匠
- トーン：静かで落ち着く、装飾最小

## 失敗時挙動

- 位置情報拒否：中心を手動設定するガイダンスを表示
- 営業時間不明：バッジ「時間情報なし」を明示し既定では非表示
- 結果0件：半径や時間帯を自動で一段階緩和し再検索

## 計測

- 起動→表示までの時間
- 検索結果件数／ゼロ件率
- 外部マップ遷移率
- 時間帯別利用分布

## リスクと回避策

- 営業時間データ欠落：不明店の扱いを明示し手動緩和を用意
- 深夜は件数希少：半径の自動拡大を段階実行
- API費用：呼び出し回数をキャッシュで抑制

## 制約

- Google API規約順守
- 個人情報の保存なし（位置は端末内のみ使用）
- 日本時間帯優先

## 未決事項（箇条書きで確定文として追記）

- 例：半径の既定値＝800m
- 例：時間調整UIの刻み＝15分
- 例：ピン色の定義＝営業中は黄金